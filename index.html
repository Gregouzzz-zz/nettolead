<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NettoLead - Plateforme de mise en relation nettoyage</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
body{
margin:0;
font-family:Inter, sans-serif;
background:#f8fafc;
color:#1e293b;
line-height:1.6;
}

nav{
display:flex;
justify-content:space-between;
align-items:center;
padding:20px 8%;
background:white;
box-shadow:0 2px 12px rgba(0,0,0,0.05);
}

.logo{
display:flex;
align-items:center;
gap:10px;
font-weight:700;
font-size:22px;
}

.logo-box{
width:32px;
height:32px;
background:#2563eb;
color:white;
display:flex;
align-items:center;
justify-content:center;
border-radius:6px;
font-weight:700;
}

button{
padding:12px 20px;
border:none;
border-radius:8px;
background:#0f172a;
color:white;
cursor:pointer;
font-weight:600;
}

button:hover{opacity:0.9;}

.hero{
display:flex;
align-items:center;
justify-content:space-between;
gap:60px;
padding:90px 8%;
}

.hero-text{max-width:620px;}

.hero h1{
font-size:42px;
margin-bottom:20px;
}

.hero p{
font-size:18px;
color:#475569;
margin-bottom:18px;
}

.hero img{
width:480px;
border-radius:18px;
box-shadow:0 15px 30px rgba(0,0,0,0.12);
}

.section{padding:90px 8%;}

.light{background:#eef2f7;}

.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
gap:30px;
margin-top:40px;
}

.card{
background:white;
padding:35px;
border-radius:16px;
box-shadow:0 8px 25px rgba(0,0,0,0.06);
}

.centered{
max-width:650px;
margin:0 auto;
}

.centered-small{
max-width:420px;
margin:0 auto;
}

.step{
width:38px;
height:38px;
background:#2563eb;
color:white;
display:flex;
align-items:center;
justify-content:center;
border-radius:8px;
font-weight:700;
margin-bottom:15px;
}

input,select,textarea{
width:100%;
padding:15px;
margin-bottom:15px;
border-radius:8px;
border:1px solid #cbd5e1;
font-size:15px;
}

.hidden{display:none;}

table{
width:100%;
border-collapse:collapse;
margin-top:30px;
background:white;
border-radius:12px;
overflow:hidden;
box-shadow:0 6px 18px rgba(0,0,0,0.05);
}

th,td{
padding:14px;
border-bottom:1px solid #e2e8f0;
text-align:left;
}

th{
background:#0f172a;
color:white;
}

.locked{color:#94a3b8;}

footer{
padding:50px;
background:#0f172a;
color:white;
text-align:center;
margin-top:80px;
}
</style>
</head>
<body>

<nav>
<div class="logo">
<div class="logo-box">N</div>
NettoLead
</div>
<button onclick="showPro()">Espace Pro</button>
</nav>

<!-- HERO -->
<div id="home">

<div class="hero">
<div class="hero-text">
<h1>Trouvez une entreprise de nettoyage professionnelle en toute confiance</h1>

<p>
NettoLead est une plateforme sp√©cialis√©e dans la mise en relation entre particuliers et entreprises de nettoyage.
Nous facilitons la prise de contact rapide, tout en prot√©geant vos coordonn√©es.
</p>

<p>
Votre demande est gratuite et sans engagement. Seuls les professionnels r√©ellement int√©ress√©s
peuvent acc√©der √† vos informations.
</p>

</div>

<img src="https://images.unsplash.com/photo-1581579188871-45ea61f2a8a3">
</div>

<!-- COMMENT CA MARCHE -->
<div class="section light">
<h2>Comment fonctionne NettoLead ?</h2>

<div class="grid">

<div class="card">
<div class="step">1</div>
<h3>D√©posez votre demande</h3>
<p>
Indiquez votre besoin (m√©nage, bureaux, fin de chantier).
Cela prend moins de 2 minutes.
</p>
</div>

<div class="card">
<div class="step">2</div>
<h3>Les professionnels consultent</h3>
<p>
Les entreprises voient la demande (ville, surface, type),
mais vos coordonn√©es restent masqu√©es.
</p>
</div>

<div class="card">
<div class="step">3</div>
<h3>Un pro vous contacte</h3>
<p>
Un professionnel d√©bloque vos coordonn√©es et vous contacte directement
pour √©tablir un devis personnalis√©.
</p>
</div>

</div>
</div>

<!-- POURQUOI NOUS FAIRE CONFIANCE -->
<div class="section">
<h2>Pourquoi nous faire confiance ?</h2>

<div class="grid">

<div class="card">
<h3>üîí Donn√©es prot√©g√©es</h3>
<p>
Vos coordonn√©es ne sont jamais publiques. Elles sont uniquement accessibles
aux entreprises qui choisissent de d√©bloquer votre demande.
</p>
</div>

<div class="card">
<h3>‚ö° Rapidit√©</h3>
<p>
Recevez un contact rapidement sans passer des heures √† chercher
et appeler plusieurs entreprises.
</p>
</div>

<div class="card">
<h3>üèÜ Professionnels qualifi√©s</h3>
<p>
Nous s√©lectionnons uniquement des entreprises s√©rieuses
inscrites sur notre plateforme.
</p>
</div>

</div>
</div>

<!-- AVIS CLIENTS -->
<div class="section light">
<h2>Avis de nos clients</h2>

<div class="grid">

<div class="card">
<p>
‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê  
‚ÄúService tr√®s rapide. Une entreprise m‚Äôa rappel√© dans la journ√©e.‚Äù
</p>
<strong>‚Äî Sophie M.</strong>
</div>

<div class="card">
<p>
‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê  
‚ÄúTr√®s simple d‚Äôutilisation. J‚Äôai trouv√© un prestataire fiable en 24h.‚Äù
</p>
<strong>‚Äî Karim L.</strong>
</div>

<div class="card">
<p>
‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê  
‚ÄúEnfin une plateforme claire et professionnelle.‚Äù
</p>
<strong>‚Äî Claire D.</strong>
</div>

</div>
</div>

<!-- FORMULAIRE -->
<div class="section">
<h2>Demande de devis gratuite</h2>

<div class="card centered">
<form id="leadForm">

<input type="text" id="name" placeholder="Nom" required>
<input type="email" id="email" placeholder="Email" required>
<input type="text" id="phone" placeholder="T√©l√©phone" required>
<input type="text" id="city" placeholder="Ville" required>

<select id="type">
<option>M√©nage</option>
<option>Nettoyage de bureaux</option>
<option>Fin de chantier</option>
</select>

<input type="text" id="surface" placeholder="Surface en m¬≤">
<textarea id="message" placeholder="D√©tails suppl√©mentaires"></textarea>

<button type="submit">Envoyer ma demande</button>

</form>
</div>
</div>

</div>

<!-- LOGIN PRO -->
<div id="loginSection" class="hidden section">
<h2>Espace Pro</h2>

<div class="card centered-small">

<input type="text" id="companyName" placeholder="Nom de l'entreprise">
<input type="text" id="companyPhone" placeholder="T√©l√©phone entreprise">
<input type="text" id="companyCity" placeholder="Ville entreprise">

<input type="email" id="loginEmail" placeholder="Email">
<input type="password" id="loginPassword" placeholder="Mot de passe">

<button onclick="loginPro()">Connexion</button>
<button onclick="registerPro()" style="margin-top:10px;background:#2563eb;">Cr√©er un compte</button>

</div>
</div>

<!-- DASHBOARD -->
<div id="pro" class="hidden section">
<h1>Dashboard Espace Pro</h1>
<button onclick="logoutPro()" style="background:#dc2626;">D√©connexion</button>

<table>
<thead>
<tr>
<th>Ville</th>
<th>Type</th>
<th>Surface</th>
<th>Contact</th>
<th>Action</th>
</tr>
</thead>
<tbody id="tbody"></tbody>
</table>
</div>

<footer>
¬© 2026 NettoLead - Plateforme s√©curis√©e de mise en relation
</footer>

<script>
const supabaseUrl = "https://rldhxezafzeencuaifpm.supabase.co";
const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJsZGh4ZXphZnplZW5jdWFpZnBtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE1ODYyMDYsImV4cCI6MjA4NzE2MjIwNn0.XBYuEOk6ngwOTjH1KM1i4MtipGqwtnYmtPWiBAoZehs";
const supabaseClient = window.supabase.createClient(supabaseUrl, supabaseKey);

document.getElementById("leadForm").addEventListener("submit", async function(e){
e.preventDefault();
await supabaseClient.from("leads").insert([{
name:name.value,
email:email.value,
phone:phone.value,
city:city.value,
type:type.value,
surface:surface.value,
message:message.value,
price:25,
unlocked:false
}]);
alert("Demande envoy√©e !");
leadForm.reset();
});

async function registerPro(){
const { data, error } = await supabaseClient.auth.signUp({
email: loginEmail.value,
password: loginPassword.value
});
if(error){ alert(error.message); return; }

await supabaseClient.from("pros").insert([{
user_id: data.user.id,
company_name: companyName.value,
phone: companyPhone.value,
city: companyCity.value
}]);

alert("Compte professionnel cr√©√© !");
}

async function loginPro(){
const { error } = await supabaseClient.auth.signInWithPassword({
email: loginEmail.value,
password: loginPassword.value
});
if(error){ alert(error.message); return; }
loginSection.classList.add("hidden");
pro.classList.remove("hidden");
loadLeads();
}

async function logoutPro(){
await supabaseClient.auth.signOut();
pro.classList.add("hidden");
home.classList.remove("hidden");
}

async function showPro(){
const { data } = await supabaseClient.auth.getSession();
if(!data.session){
home.classList.add("hidden");
loginSection.classList.remove("hidden");
return;
}
home.classList.add("hidden");
pro.classList.remove("hidden");
loadLeads();
}

async function loadLeads(){
const { data } = await supabaseClient.from("leads").select("*").order("created_at",{ascending:false});
tbody.innerHTML="";
data.forEach(function(l){
let contact=l.unlocked?l.phone+" / "+l.email:"Coordonn√©es masqu√©es";
let action=l.unlocked?"D√©bloqu√©":"<button onclick='unlockLead("+l.id+")'>D√©bloquer Gratuit</button>";
tbody.innerHTML+="<tr><td>"+l.city+"</td><td>"+l.type+"</td><td>"+l.surface+"</td><td class='locked'>"+contact+"</td><td>"+action+"</td></tr>";
});
}

async function unlockLead(id){
await supabaseClient.from("leads").update({unlocked:true}).eq("id",id);
alert("Lead d√©bloqu√© !");
loadLeads();
}
</script>

</body>
</html>
